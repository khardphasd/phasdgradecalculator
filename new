<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHASD Grade Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: url("https://cmsv2-assets.apptegy.net/uploads/9522/file/705611/91352b4d-7281-4218-beb0-f2353c095634.png");
            background-repeat: no-repeat;
            background-position: bottom center;
            background-size: 200px auto;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding-bottom: 250px;
            position: relative;
        }

        .container {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
            padding: 2rem;
            width: 100%;
            max-width: 384px;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            z-index: 10;
            margin-bottom: 150px;
            position: relative;
            background-color: white;
        }

        .container:hover {
            transform: scale(1.03);
            box-shadow: 0 12px 28px -4px rgba(0, 0, 0, 0.12), 0 10px 12px -8px rgba(0, 0, 0, 0.07);
        }

        h1 {
            font-size: 1.875rem;
            font-weight: 600;
            text-align: center;
            color: #4a5568;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            font-size: 0.875rem;
            color: #4a5568;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        input[type="number"] {
            appearance: none;
            border-radius: 0.375rem;
            border: 1px solid #e2e8f0;
            width: 100%;
            padding: 0.75rem 1rem;
            color: #4a5568;
            line-height: 1.25rem;
            transition: border-color 0.15s ease-in-out, shadow-sm 0.15s ease-in-out;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .error-message {
            color: #e53e3e;
            font-size: 0.75rem;
            font-style: italic;
            display: none;
            margin-top: 0.5rem;
        }

        .results {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .results p {
            color: #4a5568;
            font-weight: 500;
            font-size: 1rem;
        }

        .results span {
            color: #3b82f6;
            font-weight: 400;
        }

        #calculate-grade {
            background-image: linear-gradient(to right, #34d399, #3b82f6);
            border-radius: 0.375rem;
            padding: 0.75rem 1rem;
            text-align: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background-image 0.3s ease-in-out, transform 0.1s ease-in-out;
            margin-top: 1.5rem;
            width: 100%;
            display: block;
            border: none;
            font-size: 1rem;
        }

        #calculate-grade:hover {
            background-image: linear-gradient(to right, #22c55e, #2563eb);
            transform: scale(1.05);
        }

        #calculate-grade:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }

        .grade-table {
            margin-top: 2rem;
            width: 100%;
            border-collapse: collapse;
            border-radius: 0.375rem;
            overflow: hidden; /* Clip the border-radius */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .grade-table thead tr {
            background-color: #f7fafc;
            color: #4a5568;
            text-align: left;
        }

        .grade-table th, .grade-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #edf2f7;
        }

        .grade-table tbody tr:last-child td {
            border-bottom: none;
        }

        .grade-table th {
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-[#005baa] h-screen flex justify-center items-center">
    <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md transition-transform hover:scale-105">
        <h1 class="text-2xl font-semibold text-gray-800 mb-6 text-center">PHASD Grade Calculator</h1>
        <form id="gradeForm" class="space-y-4">
            <div>
                <label for="percentage" class="block text-gray-700 text-sm font-bold mb-2">Enter Percentage:</label>
                <input type="number" id="percentage" name="percentage" placeholder="Enter percentage" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" step="0.01">
            </div>
            <button type="submit" class="bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full transition duration-300 ease-in-out">
                Calculate Grade
            </button>
        </form>
        <div id="result" class="mt-6 text-left">
            <p id="letterGrade" class="text-xl font-bold text-black"></p>
            <p id="gpa" class="text-xl font-bold text-black"></p>
            <p id="apGpa" class="text-xl font-bold text-black"></p>
        </div>

        <table class="grade-table">
            <thead>
                <tr>
                    <th>Percentage</th>
                    <th>Letter Grade</th>
                </tr>
            </thead>
            <tbody id="gradeTableBody">
                 <tr>
                    <td>N/A</td>
                    <td>N/A</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        const gradeForm = document.getElementById('gradeForm');
        const resultDiv = document.getElementById('result');
        const letterGradeDisplay = document.getElementById('letterGrade');
        const gpaDisplay = document.getElementById('gpa');
        const apGpaDisplay = document.getElementById('apGpa');
        const gradeTableBody = document.getElementById('gradeTableBody');

        const gradingScale = [
            { Letter: 'A', GPA: 4.0, AP: 5.0, Lower_Bound: 92.5, Upper_Bound: 100.0 },
            { Letter: 'A-', GPA: 3.7, AP: 4.7, Lower_Bound: 89.5, Upper_Bound: 92.49 },
            { Letter: 'B+', GPA: 3.3, AP: 4.3, Lower_Bound: 86.5, Upper_Bound: 89.49 },
            { Letter: 'B', GPA: 3.0, AP: 4.0, Lower_Bound: 82.5, Upper_Bound: 86.49 },
            { Letter: 'B-', GPA: 2.7, AP: 3.7, Lower_Bound: 79.5, Upper_Bound: 82.49 },
            { Letter: 'C+', GPA: 2.3, AP: 3.3, Lower_Bound: 76.5, Upper_Bound: 79.49 },
            { Letter: 'C', GPA: 2.0, AP: 3.0, Lower_Bound: 72.5, Upper_Bound: 76.49 },
            { Letter: 'C-', GPA: 1.7, AP: 2.7, Lower_Bound: 69.5, Upper_Bound: 72.49 },
            { Letter: 'D+', GPA: 1.3, AP: 1.3, Lower_Bound: 66.5, Upper_Bound: 69.49 },
            { Letter: 'D', GPA: 1.0, AP: 1.0, Lower_Bound: 62.5, Upper_Bound: 66.49 },
            { Letter: 'D-', GPA: 0.7, AP: 0.7, Lower_Bound: 59.5, Upper_Bound: 62.49 },
            { Letter: 'E', GPA: 0.0, AP: 0.0, Lower_Bound: 0, Upper_Bound: 59.49 }
        ];

        function calculateGrade(percentage) {
            if (percentage === null || percentage === undefined || isNaN(percentage)) {
                return { letter: 'Invalid', gpa: 'Invalid', apGpa: 'Invalid' };
            }

            const grade = gradingScale.find(item => percentage >= item.Lower_Bound && percentage <= item.Upper_Bound);
            return grade ? grade : { letter: 'Invalid', gpa: 'Invalid', apGpa: 'Invalid' };
        }

        function copyToClipboard(text) {
            // Use a textarea for better compatibility
            const tempElement = document.createElement('textarea');
            tempElement.value = text;
            document.body.appendChild(tempElement);
            tempElement.select();
            tempElement.setSelectionRange(0, 99999); // For mobile
            document.execCommand('copy');
            document.body.removeChild(tempElement);
            alert('Grade data copied to clipboard!  Paste into a spreadsheet.');
        }

        gradeForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const percentage = parseFloat(document.getElementById('percentage').value);
            const grade = calculateGrade(percentage);

            letterGradeDisplay.textContent = `Letter Grade: ${grade.Letter}`;
            gpaDisplay.textContent = `GPA: ${grade.GPA}`;
            apGpaDisplay.textContent = `AP GPA: ${grade.AP}`;
            resultDiv.classList.remove('hidden');

            // Update the grade table
            const tableText = `${percentage.toFixed(2)}\t${grade.Letter}`; // Use tab for columns
            gradeTableBody.innerHTML = `
                <tr>
                    <td>${percentage.toFixed(2)}</td>
                    <td>${grade.Letter}</td>
                </tr>
            `;
            copyToClipboard(tableText);
        });
    </script>
</body>
</html>
